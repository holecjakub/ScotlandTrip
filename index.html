<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scotland Sightseeing Map</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Basic Reset */
        body, html {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
        }
        #map {
            height: 100%;
            width: 100%;
        }
        #info {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(28, 28, 30, 1);
            box-shadow: 0px -2px 10px rgba(0, 0, 0, 0.7);
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            padding: 15px;
            box-sizing: border-box;
            display: none;
            flex-direction: column;
            align-items: center;
            transition: all 0.3s ease-in-out;
        }
        #info.active {
            display: flex;
        }
        h2 {
            font-size: 20px;
            font-weight: 600;
            margin: 0 0 10px 0;
            color: #ffffff;
        }
        .description {
            font-size: 14px;
            color: #d1d1d6;
            text-align: center;
            margin-bottom: 10px;
        }
        .distance {
            font-size: 14px;
            color: #d1d1d6;
            text-align: center;
            margin-bottom: 10px;
        }
        .btn {
            background-color: #0a84ff;
            color: white;
            padding: 12px;
            margin: 5px 0;
            border: none;
            border-radius: 10px;
            width: 100%;
            text-align: center;
            font-size: 16px;
            font-weight: 500;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s;
        }
        .btn i {
            margin-right: 8px;
        }
        .btn:active {
            background-color: #005fca;
        }
        .btn:focus {
            outline: none;
        }
        #copyBtn {
            background-color: #f9a825;
            color: white;
            border-radius: 50px;
            padding: 8px 16px;
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 14px;
        }
        #copyBtn:active {
            background-color: #c68400;
        }
        #listIcon {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #0a84ff;
            color: white;
            border-radius: 50%;
            padding: 10px;
            font-size: 20px;
            text-align: center;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
        }
        #locationsModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        #locationsModal.active {
            display: flex;
        }
        #locationsList {
            background-color: #1c1c1e;
            border-radius: 20px;
            width: calc(100% - 40px);
            max-width: 400px;
            max-height: calc(100% - 40px);
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }
        #locationsList h3 {
            color: #ffffff;
            font-size: 24px;
            margin-bottom: 15px;
            text-align: center;
        }
        .locationItem {
            margin: 10px 0;
        }
        .locationItem button {
            width: 100%;
            padding: 12px;
            background-color: #0a84ff;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .locationItem button:active {
            background-color: #005fca;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <div id="info">
        <button class="btn" id="copyBtn"><i class="fas fa-copy"></i>Copy</button>
        <h2 id="locationName"></h2>
        <p class="description" id="locationDescription"></p>
        <p class="distance" id="locationDistance"></p>
        <button class="btn" id="searchBtn"><i class="fas fa-search"></i>Search on Google</button>
        <button class="btn" id="instagramBtn"><i class="fab fa-instagram"></i>Open in Instagram</button>
    </div>
    <div id="listIcon">&#9776;</div>
    <div id="locationsModal">
        <div id="locationsList">
            <h3>Locations</h3>
        </div>
    </div>
    
    <script>
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371; // Radius of the earth in km
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = 
                0.5 - Math.cos(dLat)/2 + 
                Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
                (1 - Math.cos(dLon)) / 2;
            return R * 2 * Math.asin(Math.sqrt(a));
        }

        function initMap() {
            const glasgowCoords = { lat: 55.8642, lng: -4.2518 };

            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 7,
                center: glasgowCoords, // General center of Scotland
                gestureHandling: 'greedy',
                styles: [
                    {
                        "featureType": "poi",
                        "elementType": "labels",
                        "stylers": [{"visibility": "off"}]
                    }
                ]
            });

            const locations = [
                { name: "Stirling Castle", position: { lat: 56.1236, lng: -3.9416 }, description: "A grand medieval fortress.", instagram: "https://www.instagram.com/explore/tags/stirlingcastle/" },
                { name: "Falls of Dourface", position: { lat: 56.2181, lng: -4.6824 }, description: "A breathtaking waterfall.", instagram: "https://www.instagram.com/explore/tags/fallsofdourface/" },
                { name: "Elgin Sands", position: { lat: 57.6482, lng: -3.3158 }, description: "A beautiful sandy landscape.", instagram: "https://www.instagram.com/explore/tags/elginsands/" },
                { name: "Glen Glen", position: { lat: 57.2000, lng: -4.5000 }, description: "A serene glen surrounded by mountains.", instagram: "https://www.instagram.com/explore/tags/glenglen/" },
                { name: "Dumbarton Heather Fields", position: { lat: 55.9477, lng: -4.5701 }, description: "Lavender fields stretching as far as the eye can see.", instagram: "https://www.instagram.com/explore/tags/dumbartonheatherfields/" },
                { name: "Paisley Park", position: { lat: 55.8467, lng: -4.4239 }, description: "A park with stunning waterfalls.", instagram: "https://www.instagram.com/explore/tags/paisleypark/" },
                { name: "Cairngorm Caves", position: { lat: 57.1215, lng: -3.6474 }, description: "Mysterious caves glowing with bioluminescence.", instagram: "https://www.instagram.com/explore/tags/cairngormcaves/" },
                { name: "Lower Loch Ness Falls", position: { lat: 57.3230, lng: -4.4452 }, description: "Waterfalls cascading into the famous Loch Ness.", instagram: "https://www.instagram.com/explore/tags/lowerlochnessfalls/" },
                { name: "Kingdom of Fife", position: { lat: 56.2083, lng: -3.1490 }, description: "A historic region with charming towns.", instagram: "https://www.instagram.com/explore/tags/kingdomoffife/" },
                { name: "Glasgow", position: { lat: 55.8642, lng: -4.2518 }, description: "Scotland's largest city, known for its culture and architecture.", instagram: "https://www.instagram.com/explore/tags/glasgow/" },
                { name: "Fairy Pools, Isle of Skye", position: { lat: 57.2500, lng: -6.2167 }, description: "Crystal clear pools in a scenic setting.", instagram: "https://www.instagram.com/explore/tags/fairypools/" },
                { name: "Kilchurn Castle, Loch Awe", position: { lat: 56.4039, lng: -5.0291 }, description: "A picturesque ruined castle by Loch Awe.", instagram: "https://www.instagram.com/explore/tags/kilchurncastle/" },
                { name: "Glenfinnan Viaduct", position: { lat: 56.8714, lng: -5.4311 }, description: "A railway viaduct famous for its appearance in Harry Potter films.", instagram: "https://www.instagram.com/explore/tags/glenfinnanviaduct/" }
            ];

            locations.forEach(location => {
                const marker = new google.maps.Marker({
                    position: location.position,
                    map: map,
                    title: location.name
                });

                marker.addListener('click', () => {
                    document.getElementById('locationName').innerText = location.name;
                    document.getElementById('locationDescription').innerText = location.description;

                    const distance = calculateDistance(glasgowCoords.lat, glasgowCoords.lng, location.position.lat, location.position.lng);
                    const travelTime = (distance / 60).toFixed(2); // Assuming 60 km/h average speed
                    document.getElementById('locationDistance').innerText = `${distance.toFixed(2)} km (${travelTime} hours) from Glasgow`;

                    document.getElementById('searchBtn').onclick = () => window.open(`https://www.google.com/search?q=${encodeURIComponent(location.name)}`, '_blank');
                    document.getElementById('copyBtn').onclick = () => {
                        navigator.clipboard.writeText(location.name);
                        alert(`${location.name} copied to clipboard!`);
                    };
                    document.getElementById('instagramBtn').onclick = () => window.open(location.instagram, '_blank');

                    document.getElementById('info').classList.add('active');
                });

                const listItem = document.createElement('div');
                listItem.className = 'locationItem';
                listItem.innerHTML = `<button>${location.name}</button>`;
                listItem.querySelector('button').onclick = () => {
                    map.setCenter(location.position);
                    map.setZoom(10);
                    google.maps.event.trigger(marker, 'click');
                    document.getElementById('locationsModal').classList.remove('active');
                };
                document.getElementById('locationsList').appendChild(listItem);
            });

            map.addListener('click', () => {
                document.getElementById('info').classList.remove('active');
            });

            document.getElementById('listIcon').addEventListener('click', () => {
                if (document.getElementById('locationsModal').classList.contains('active')) {
                    document.getElementById('locationsModal').classList.remove('active');
                    document.getElementById('listIcon').innerHTML = '&#9776;';
                } else {
                    document.getElementById('locationsModal').classList.add('active');
                    document.getElementById('listIcon').innerHTML = '<i class="fas fa-map"></i>';
                }
            });

            document.getElementById('locationsModal').addEventListener('click', () => {
                document.getElementById('locationsModal').classList.remove('active');
                document.getElementById('listIcon').innerHTML = '&#9776;';
            });
        }
    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-eufCX90bfNipZVku_RVJR_vuif2GCcE&callback=initMap"></script>
</body>
</html>
